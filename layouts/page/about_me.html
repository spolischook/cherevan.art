{{ define "main" }}
    {{ $pages := slice }}

    {{ range $index, $page := sort (where (where (where .Site.Pages "Type" "art-works") ".IsSection" false) "Params.mainImage" "!=" "") "Params.date" "desc" }}
        {{ $pages = $pages | append $page }}
    {{ end }}
        {{ $artWorks := $pages | shuffle | first 3 }}


    <section class="flex flex-col sm:flex-row sm:space-x-8 space-y-6 sm:space-y-0">
        <article class="sm:w-[80%] sm:mb-10 px-2">
            <h1 class="text-5xl font-bold pb-4">{{ .Title }}</h1>
            <div class="text-xl font-sans leading-loose indent-8">
                {{ .Content }}
            </div>
        </article>
        <section class="flex flex-col sm:w-[20%]">
            <h2 class="font-bold text-xl">Art Works</h2>
            <h3 class="text-gray-500 text-sm mb-5">that you might like...</h3>
            <div class="flex flex-col">
                {{ partial "art-works/sidebar.html" (dict "count" 3 "pages" .Site.Pages) }}
            </div>
        </section>
    </section>
{{ end }}
